{% extends "admin/admin_base.html" %}

{% block content %}
<h1>Admin Dashboard</h1>

<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 2rem 0;">
    <div class="card" style="text-align: center; background: #dbeafe;">
        <h3 style="color: #1e40af;">Total Users</h3>
        <p style="font-size: 2.5rem; font-weight: bold;">{{ total_users }}</p>
    </div>
    
    <div class="card" style="text-align: center; background: #d1fae5;">
        <h3 style="color: #065f46;">Active Users</h3>
        <p style="font-size: 2.5rem; font-weight: bold;">{{ active_users }}</p>
    </div>
    
    <div class="card" style="text-align: center; background: #fef3c7;">
        <h3 style="color: #92400e;">Pending Approval</h3>
        <p style="font-size: 2.5rem; font-weight: bold;">{{ pending_users }}</p>
    </div>
</div>

<div class="card">
    <h2 style="margin-bottom: 1.5rem;">Recent Users</h2>
    <table>
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Status</th>
                <th>Registered</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for user in recent_users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>
                    {% if user.is_active %}
                        <span style="color: #16a34a; font-weight: bold;">Active</span>
                    {% else %}
                        <span style="color: #f59e0b; font-weight: bold;">Pending</span>
                    {% endif %}
                </td>
                <td>{{ user.created_at.strftime('%Y-%m-%d') }}</td>
                <td>
                    <a href="{{ url_for('view_user_progress', user_id=user.id) }}" class="btn btn-primary" style="padding: 0.25rem 0.5rem; font-size: 0.875rem;">View</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
